{"version":3,"sources":["../../src/gltf-loader.js"],"names":["DEFAULT_OPTIONS","gltf","parserVersion","uri","parse","arrayBuffer","options","useGLTFParser","gltfParser","GLTFParser","byteOffset","parseSync","name","extensions","text","binary","test","defaultOptions"],"mappings":";;;;;;;;;;;;;;;;;AAEA;;AACA;;;;;;AAEA,IAAMA,eAAe,GAAG;AACtBC,EAAAA,IAAI,EAAE;AACJC,IAAAA,aAAa,EAAE;AADX,GADgB;AAItBC,EAAAA,GAAG,EAAE;AAJiB,CAAxB;;SAOsBC,K;;;;;2EAAf,iBAAqBC,WAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAkCC,YAAAA,OAAlC,2DAA4C,EAA5C;AAELA,YAAAA,OAAO,qBAAON,eAAP,MAA2BM,OAA3B,CAAP;;AAFK,kBAIDA,OAAO,CAACL,IAAR,CAAaC,aAAb,KAA+B,CAA/B,IAAoCI,OAAO,CAACC,aAAR,KAA0B,KAJ7D;AAAA;AAAA;AAAA;;AAKGC,YAAAA,UALH,GAKgB,IAAIC,sBAAJ,EALhB;AAAA,6CAMID,UAAU,CAACJ,KAAX,CAAiBC,WAAjB,EAA8BC,OAA9B,CANJ;;AAAA;AAAA,wBAUoBA,OAVpB,mCAUEI,UAVF,EAUEA,UAVF,qCAUe,CAVf;AAWCT,YAAAA,IAXD,GAWQ,EAXR;AAAA;AAAA,mBAYQ,0BAAUA,IAAV,EAAgBI,WAAhB,EAA6BK,UAA7B,EAAyCJ,OAAzC,CAZR;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;;;AAeA,SAASK,SAAT,CAAmBN,WAAnB,EAA8C;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAEnDA,EAAAA,OAAO,qBAAON,eAAP,MAA2BM,OAA3B,CAAP;;AAGA,MAAIA,OAAO,CAACL,IAAR,CAAaC,aAAb,KAA+B,CAA/B,IAAoCI,OAAO,CAACC,aAAR,KAA0B,KAAlE,EAAyE;AACvE,WAAO,IAAIE,sBAAJ,GAAiBE,SAAjB,CAA2BN,WAA3B,EAAwCC,OAAxC,CAAP;AACD;;AAPkD,iBAU1BA,OAV0B;AAAA,qCAU5CI,UAV4C;AAAA,MAU5CA,UAV4C,oCAU/B,CAV+B;AAWnD,MAAMT,IAAI,GAAG,EAAb;AACA,SAAO,8BAAcA,IAAd,EAAoBI,WAApB,EAAiCK,UAAjC,EAA6CJ,OAA7C,CAAP;AACD;;eAEc;AACbM,EAAAA,IAAI,EAAE,MADO;AAEbC,EAAAA,UAAU,EAAE,CAAC,MAAD,EAAS,KAAT,CAFC;AAGbC,EAAAA,IAAI,EAAE,IAHO;AAIbC,EAAAA,MAAM,EAAE,IAJK;AAKbC,EAAAA,IAAI,EAAE,MALO;AAMbZ,EAAAA,KAAK,EAALA,KANa;AAObO,EAAAA,SAAS,EAATA,SAPa;AAQbM,EAAAA,cAAc,EAAEjB;AARH,C","sourcesContent":["// Binary container format for glTF\n\nimport {parseGLTFSync, parseGLTF} from './lib/parse-gltf';\nimport GLTFParser from './lib/deprecated/gltf-parser';\n\nconst DEFAULT_OPTIONS = {\n  gltf: {\n    parserVersion: 1 // the new parser that will be the only option in V2.\n  },\n  uri: '' // base URI\n};\n\nexport async function parse(arrayBuffer, options = {}) {\n  // Apps like to call the parse method directly so apply default options here\n  options = {...DEFAULT_OPTIONS, ...options};\n  // Deprecated: Return GLTFParser instance\n  if (options.gltf.parserVersion !== 2 && options.useGLTFParser !== false) {\n    const gltfParser = new GLTFParser();\n    return gltfParser.parse(arrayBuffer, options);\n  }\n\n  // Return pure javascript object\n  const {byteOffset = 0} = options;\n  const gltf = {};\n  return await parseGLTF(gltf, arrayBuffer, byteOffset, options);\n}\n\nexport function parseSync(arrayBuffer, options = {}) {\n  // Apps like to call the parse method directly so apply default options here\n  options = {...DEFAULT_OPTIONS, ...options};\n\n  // Deprecated: Return GLTFParser instance\n  if (options.gltf.parserVersion !== 2 && options.useGLTFParser !== false) {\n    return new GLTFParser().parseSync(arrayBuffer, options);\n  }\n\n  // Return pure javascript object\n  const {byteOffset = 0} = options;\n  const gltf = {};\n  return parseGLTFSync(gltf, arrayBuffer, byteOffset, options);\n}\n\nexport default {\n  name: 'glTF',\n  extensions: ['gltf', 'glb'],\n  text: true,\n  binary: true,\n  test: 'glTF',\n  parse,\n  parseSync, // Less features when parsing synchronously\n  defaultOptions: DEFAULT_OPTIONS\n};\n"],"file":"gltf-loader.js"}