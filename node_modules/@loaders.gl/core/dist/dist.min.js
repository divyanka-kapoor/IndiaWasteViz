!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var r=n();for(var t in r)("object"==typeof exports?exports:e)[t]=r[t]}}(window,function(){return function(e){var n={};function r(t){if(n[t])return n[t].exports;var o=n[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=n,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var o in e)r.d(t,o,function(n){return e[n]}.bind(null,o));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="",r(r.s=5)}([function(e,n,r){"use strict";(function(e,t){r.d(n,"c",function(){return o}),r.d(n,"e",function(){return i}),r.d(n,"f",function(){return u}),r.d(n,"b",function(){return c}),r.d(n,"a",function(){return a}),r.d(n,"d",function(){return l});const o="object"!=typeof e||"[object process]"!==String(e)||e.browser,s={self:"undefined"!=typeof self&&self,window:"undefined"!=typeof window&&window,global:void 0!==t&&t,document:"undefined"!=typeof document&&document},i=s.self||s.window||s.global,u=s.window||s.self||s.global,c=s.global||s.self||s.window,a=s.document||{},f=void 0!==e&&e.version&&e.version.match(/v([0-9]*)/),l=f&&parseFloat(f[1])||0}).call(this,r(6),r(4))},function(e,n){},function(e,n){},function(e,n){},function(e,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,n,r){(function(n){const t=r(7),o="undefined"==typeof window?n:window;o.loaders=o.loaders||{},e.exports=Object.assign(o.loaders,t)}).call(this,r(4))},function(e,n){var r,t,o=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===s||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(n){try{return r.call(null,e,0)}catch(n){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:s}catch(e){r=s}try{t="function"==typeof clearTimeout?clearTimeout:i}catch(e){t=i}}();var c,a=[],f=!1,l=-1;function d(){f&&c&&(f=!1,c.length?a=c.concat(a):l=-1,a.length&&y())}function y(){if(!f){var e=u(d);f=!0;for(var n=a.length;n;){for(c=a,a=[];++l<n;)c&&c[l].run();l=-1,n=a.length}c=null,f=!1,function(e){if(t===clearTimeout)return clearTimeout(e);if((t===i||!t)&&clearTimeout)return t=clearTimeout,clearTimeout(e);try{t(e)}catch(n){try{return t.call(null,e)}catch(n){return t.call(this,e)}}}(e)}}function h(e,n){this.fun=e,this.array=n}function p(){}o.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];a.push(new h(e,n)),1!==a.length||f||u(y)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=p,o.addListener=p,o.once=p,o.off=p,o.removeListener=p,o.removeAllListeners=p,o.emit=p,o.prependListener=p,o.prependOnceListener=p,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,n,r){"use strict";r.r(n);var t={};function o(e,n){if(!e)throw new Error(n||"loader assertion failed.")}function s(e){if(!e)return!1;return Array.isArray(e)&&(e=e[0]),e.parseTextSync||e.parseSync||e.parse||e.loadAndParse||e.parseStream||e.parseInBatches||e.worker}function i(e){let n;return o(s(e)),Array.isArray(e)&&(n=e[1],e=e[0],e={...e,options:{...e.options,...n}}),e.extension&&(e.extensions=e.extensions||e.extension,delete e.extension),Array.isArray(e.extensions)||(e.extensions=[e.extensions]),o(e.extensions&&e.extensions.length>0&&e.extensions[0]),e.parseTextSync&&(e.text=!0),e.text||(e.binary=!0),e}r.r(t),r.d(t,"dirname",function(){return ae});let u={};function c(e){e=Array.isArray(e)?e:[e];for(const n of e){const e=i(n);for(const n of e.extensions)u[n]=e}}function a(){u={}}const f=/[^.]+$/;function l(e,n="",r=null,{nothrow:t=!1}={}){if(n=n||"",e&&!Array.isArray(e)){const n=e;return i(n),n}(function(e){for(const n of e)i(n)})(e=e||Object.values(u)),n=n.replace(/\?.*/,"");let o=null;if(!(o=(o=o||function(e,n){const r=n.match(f),t=r&&r[0];return t&&function(e,n){n=n.toLowerCase();for(const r of e)for(const e of r.extensions)if(e.toLowerCase()===n)return r;return null}(e,t)}(e,n))||function(e,n){if(!n)return null;for(const r of e)if("string"==typeof n){if(d(n,r))return r}else if(ArrayBuffer.isView(n)){if(y(n.buffer,n.byteOffset,r))return r}else if(n instanceof ArrayBuffer){if(y(n,0,r))return r}return null}(e,r))){if(t)return null;throw new Error(`No valid loader found for ${n}`)}return o}function d(e,n){return n.testText&&n.testText(e)}function y(e,n,r){switch(Array.isArray(r.test)?"array":typeof r.test){case"function":return r.test(e,r);case"string":case"array":return(Array.isArray(r.test)?r.test:[r.test]).some(r=>{return r===function(e,n,r){if(e.byteLength<=n+r)return"";const t=new DataView(e);let o="";for(let e=0;e<r;e++)o+=String.fromCharCode(t.getUint8(n+e));return o}(e,n,r.length)});default:return!1}}class h{log(){}info(){}warn(){}error(){}}function p(e,n){return null===(e=Object.assign({},n&&n.DEFAULT_OPTIONS,n&&n.defaultOptions,n&&n.options,e,{dataType:"arraybuffer"})).log&&(e.log=new h),"log"in e||(e.log=console),e}const w=e=>"boolean"==typeof e,b=e=>"function"==typeof e,g=e=>null!==e&&"object"==typeof e,m=e=>g(e)&&b(e.then),x=e=>e&&"function"==typeof e[Symbol.iterator],A=e=>e&&"function"==typeof e[Symbol.asyncIterator],v=e=>e&&b(e.next),S=e=>"undefined"!=typeof Response&&e instanceof Response||e.arrayBuffer&&e.text&&e.json,T=e=>(e=>"undefined"!=typeof File&&e instanceof File)(e)||(e=>"undefined"!=typeof Blob&&e instanceof Blob)(e),B=e=>(e=>g(e)&&b(e.tee)&&b(e.cancel)&&b(e.pipeTo)&&b(e.getReader))(e)||(e=>g(e)&&b(e.read)&&b(e.pipe)&&w(e.readable))(e),k=e=>(e=>g(e)&&b(e.abort)&&b(e.getWriter))(e)||(e=>g(e)&&b(e.end)&&b(e.write)&&w(e.writable))(e);var j=r(0);function _(e){if(j.c||j.d>=10){if("function"==typeof e[Symbol.asyncIterator])return e;if("function"==typeof e.getIterator)return e.getIterator()}return j.c?async function*(e){const n=e.getReader();try{for(;;){const{done:e,value:r}=await n.read();if(e)return;yield r}}catch(e){n.releaseLock()}}(e):async function*(e){e=await e;for(;;){const n=e.read();if(null===n){if(e._readableState.ended)return;await P(e)}else yield n}}(e)}async function P(e){return new Promise(n=>{e.once("readable",n)})}class F{constructor(e){this._fileOrBlob=e,this.bodyUsed=!1}get headers(){return new Headers({"Content-Length":this._fileOrBlob.size,"Content-Type":this._fileOrBlob.type})}get ok(){return!0}get status(){return 200}url(){return this._fileOrBlob.name||""}async arrayBuffer(){const{reader:e,promise:n}=this._getFileReader();return e.readAsArrayBuffer(this._fileOrBlob),n}async text(){const{reader:e,promise:n}=this._getFileReader();return e.readAsText(this._fileOrBlob),n}async json(){const e=await this.text();return JSON.parse(e)}_getFileReader(){let e;o(!this.bodyUsed),this.bodyUsed=!0;const n=new Promise((n,r)=>{try{(e=new FileReader).onerror=e=>r(new Error(e)),e.onabort=()=>r(new Error("Read aborted.")),e.onload=()=>n(e.result)}catch(e){r(e)}});return{reader:e,promise:n}}}function O(e,n){return Promise.resolve(new F(e,n))}const D="Cannot convert supplied data type";function E(e,n){if(n.text&&"string"==typeof e)return e;if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)){const r=e.buffer||e;if(n.text&&!n.binary){return new TextDecoder("utf8").decode(r)}return r}throw new Error(D)}async function I(e,n){const r=(e=await e)instanceof ArrayBuffer||ArrayBuffer.isView(e);if("string"==typeof e||r)return E(e,n);if(T(e)&&(e=await O(e)),S(e))return await async function(e){if(!e.ok){let n=`fetch failed ${e.status} `;try{n+=await e.text()}catch(e){}throw new Error(n)}}(e),n.binary?await e.arrayBuffer():await e.text();throw new Error(D)}function M(e){return v(e)?e:S(e)&&e.body?(function(e){if(!e.ok)throw new Error(`fetch failed ${e.status}`)}(e),_(e.body)):B(e)?_(e):A(e)?e[Symbol.asyncIterator]():C(e)}function C(e){if(e instanceof ArrayBuffer||ArrayBuffer.isView(e))return function*(){yield e.buffer||e}();if(v(e))return e;if(x(e))return e[Symbol.iterator]();throw new Error(D)}var L=r(3);function R(e){if(L.toArrayBuffer&&(e=Object(L.toArrayBuffer)(e)),e instanceof ArrayBuffer)return e;if(ArrayBuffer.isView(e))return e.buffer;if("string"==typeof e){const n=e;return(new TextEncoder).encode(n).buffer}return o(!1)}function W(e,n=!0,r=[]){if(e){if(e instanceof ArrayBuffer)r.push(e);else if(e.buffer&&e.buffer instanceof ArrayBuffer)r.push(e.buffer);else if(n&&"object"==typeof e)for(const t in e)W(e[t],n,r)}else;return r}const $=new Map;let Q=0;function U({data:e,resolve:n}){n(e)}class N{constructor({source:e,name:n=`web-worker-${Q++}`,onMessage:r}){const t=function(e){if(o("string"==typeof e,"worker source"),e.startsWith("url(")&&e.endsWith(")"))return e.match(/^url\((.*)\)$/)[1];let n=$.get(e);if(!n){const r=new Blob([e],{type:"application/javascript"});n=URL.createObjectURL(r),$.set(e,n)}return n}(e);this.worker=new Worker(t,{name:n}),this.name=n,this.onMessage=r||U}async process(e){return new Promise((n,r)=>{this.worker.onmessage=e=>this.onMessage({worker:this.worker,data:e.data,resolve:n,reject:r}),this.worker.onerror=e=>r(e);const t=W(e);this.worker.postMessage(e,t)})}destroy(){this.worker.terminate(),this.worker=null}}class J{constructor({source:e,name:n="unnamed",maxConcurrency:r=1,onMessage:t,onDebug:o=(()=>{})}){this.source=e,this.name=n,this.maxConcurrency=r,this.onMessage=t,this.onDebug=o,this.jobQueue=[],this.idleQueue=[],this.count=0,this.isDestroyed=!1}destroy(){this.idleQueue.forEach(e=>e.destroy()),this.isDestroyed=!0}async process(e,n){return new Promise((r,t)=>{this.jobQueue.push({data:e,jobName:n,resolve:r,reject:t}),this._startQueuedJob()})}_startQueuedJob(){if(!this.jobQueue.length)return;const e=this._getAvailableWorker();if(!e)return;const n=this.jobQueue.shift();this.onDebug({message:"processing",worker:e.name,job:n.jobName,backlog:this.jobQueue.length}),e.process(n.data).then(e=>n.resolve(e)).catch(e=>n.reject(e)).then(()=>this._onWorkerDone(e))}_onWorkerDone(e){this.isDestroyed?e.destroy():(this.idleQueue.push(e),this._startQueuedJob())}_getAvailableWorker(){if(this.idleQueue.length>0)return this.idleQueue.shift();if(this.count<this.maxConcurrency){this.count++;const e=`${this.name.toLowerCase()}-worker-${this.count}-of-${this.maxConcurrency}`;return new N({source:this.source,onMessage:this.onMessage,name:e})}return null}}const V=5;class q{constructor({maxConcurrency:e=V,onMessage:n,onDebug:r=(()=>{})}){this.maxConcurrency=e,this.onMessage=n,this.onDebug=r,this.workerPools=new Map}setProps(e){"maxConcurrency"in e&&(this.maxConcurrency=e.maxConcurrency),"onDebug"in e&&(this.onDebug=e.onDebug)}destroy(){this.workerPools.forEach(e=>e.destroy())}async process(e,n,r){return this._getWorkerPool(e,n).process(r)}_getWorkerPool(e,n){let r=this.workerPools.get(n);return r||(r=new J({source:e,name:n,onMessage:this.onMessage,maxConcurrency:this.maxConcurrency,onDebug:this.onDebug}),this.workerPools.set(n,r)),r}}let z=null;async function H({worker:e,data:n,resolve:r,reject:t}){switch(n.type){case"done":r(n.result);break;case"process":try{const r=await X(n.arraybuffer,n.options,n.url);e.postMessage({type:"process-done",id:n.id,result:r},W(r))}catch(r){e.postMessage({type:"process-error",id:n.id,message:r.message})}break;case"error":t(n.message)}}function G(e,n,r,t={}){const o=function(e={}){const n={};return e.maxConcurrency&&(n.maxConcurrency=e.maxConcurrency),e.onDebug&&(n.onDebug=e.onDebug),(z=z||new q({onMessage:H})).setProps(n),z}(t);return t=JSON.parse(JSON.stringify(t)),o.process(e,`loaders.gl-${n}`,{arraybuffer:R(r),options:t,source:"loaders.gl",type:"process"})}function K(e,n,r,t){if(n.parseInBatches){const o=M(e);return n.parseInBatches(o,r,t,n)}return null}async function X(e,n,r,t){!n||Array.isArray(n)||s(n)||(t=r,r=n,n=null),r=r||{};const i=function(e,n){return S(e)?n=n||e.url:T(n)&&(n=n.name),"string"==typeof n?n.replace(/\?.*/,""):n}(e,t),u=l(n,i,e);return r=p(r,u),await async function(e,n,r,t){return e=await I(e,n),n.parseTextSync&&"string"==typeof e?(r.dataType="text",n.parseTextSync(e,r,t,n)):n.parse?await n.parse(e,r,t,n):n.parseSync?n.parseSync(e,r,t,n):n.worker?await G(n.worker,n.name,e,r):o(!1)}(e,u,r,i)}function Y(e,n,r,t){Array.isArray(n)||s(n)||(t=r,r=n,n=null);const i=l(n,t,e);return i?function(e,n,r,t){return e=E(e,n),n.parseTextSync&&"string"==typeof e?n.parseTextSync(e,r,t,n):n.parseSync?n.parseSync(e,r,t,n):o(!1)}(e,i,r=p(r,i),t):null}async function Z(e,n,r,t){Array.isArray(n)||s(n)||(t=r,r=n,n=null);const o=l(n,t,null);return K(e,o,r=p(r,o),t)}async function ee(e,n,r,t){Array.isArray(n)||s(n)||(t=r,r=n,n=null);const o=l(n,t,null);return K(e,o,r=p(r,o),t)}let ne="";const re={};function te(e){ne=e}function oe(){return ne}function se(e){for(const n in re)if(e.startsWith(n)){const r=re[n];return e.replace(n,r)}return e+=ne}async function ie(e,n){return T(e)?O(e,n):(e=se(e),fetch(e,n))}async function ue(e,n,r){return Z(await ie(e,r),n,r,e)}async function ce(e,n,r){Array.isArray(n)||s(n)||(r=n,n=null);const t=l(n,T(e)?e.name:e,null,{nothrow:!0});if(t&&t.loadAndParse){const n=p(r,t);return await t.loadAndParse(e,n)}let o=e;return(T(o)||"string"==typeof o)&&(o=await ie(e,r)),X(o,n,r,e)}function ae(e){const n=e&&e.lastIndexOf("/");return n>=0?e.substr(0,n):""}var fe=r(2);const le={dataType:"arraybuffer",nothrow:!0},de=e=>e.startsWith("data:");function ye(e,n){return n=function(e={}){return(e=Object.assign({},le,e)).responseType=e.responseType||e.dataType,e}(n),de(e),n.nothrow||o(!1),null}function he(e,n={}){return e=se(e),!j.c&&fe.readFileSync?fe.readFileSync(e,n):ye(e,n)}var pe=r(1);function we(e,n,r){return e=se(e),!j.c&&pe.writeFile?pe.writeFile(e,n,r):o(!1)}function be(e,n,r){return e=se(e),!j.c&&pe.writeFileSync?pe.writeFileSync(e,n,r):o(!1)}function ge(e){return`Failed to fetch resource ${e.url}(${e.status}): ${e.statusText} `}async function me(e){let n=`Failed to fetch resource ${e.url} (${e.status}): `;try{e.headers.get("Content-Type").includes("application/json")?n+=await e.text():n+=e.statusText}catch(e){return n}return n}function xe(e,n,r,t){if(n.encode)return n.encode(e,r);if(n.encodeSync)return Promise.resolve(n.encodeSync(e,r));throw new Error("Writer could not encode data")}function Ae(e,n,r,t){if(n.encodeSync)return n.encodeSync(e,r);throw new Error("Writer could not synchronously encode data")}function ve(e,n,r,t){if(n.encodeInBatches)return n.encodeInBatches(e,r);throw new Error("Writer could not encode data in batches")}function Se(e,n,r,t){return we(n,xe(e,r,t))}function Te(e,n,r,t){return be(n,Ae(e,r,t))}function Be(e,n){const r=e instanceof ArrayBuffer?new Uint8Array(e):e,t=n instanceof ArrayBuffer?new Uint8Array(n):n,o=new Uint8Array(r.byteLength+t.byteLength);return o.set(r,0),o.set(t,r.byteLength),o}async function ke(e,n){for(;;){const{done:r,value:t}=await e.next();if(r)return void e.return();if(n(t))return}}async function je(e){let n=new ArrayBuffer,r="";for await(const t of e)"string"==typeof t?r+=t:n=Be(n,t);return r||n}async function*_e(e,n){const r=new TextDecoder(n);for await(const n of e)yield"string"==typeof n?n:r.decode(n,{stream:!0})}async function*Pe(e){let n="";for await(const r of e){let e;for(n+=r;(e=n.indexOf("\n"))>=0;){const r=n.slice(0,e+1);n=n.slice(e+1),yield r}}n.length>0&&(yield n)}async function*Fe(e){let n=1;for await(const r of e)yield{counter:n,line:r},n++}async function Oe(e,n,r=(()=>{}),t=(()=>{})){if(!(e=await e).ok)return e;if(!e.body)return e;const o=e.headers.get("content-length"),s=o&&parseInt(o,10);if(!(o>0))return e;if("undefined"==typeof ReadableStream)return e;const i=new ReadableStream({start(o){!async function e(n,r,t,o,s,i,u){try{const{done:c,value:a}=await r.read();if(c)return i(),void n.close();t+=a.byteLength;const f=Math.round(t/o*100);s(f,{loadedBytes:t,totalBytes:o}),n.enqueue(a),await e(n,r,t,o,s,i,u)}catch(e){n.error(e),u(e)}}(o,e.body.getReader(),0,s,n,r,t)}});return new Response(i)}r.d(n,"TextEncoder",function(){return De}),r.d(n,"TextDecoder",function(){return Ee}),r.d(n,"createReadStream",function(){return Ie}),r.d(n,"parseFile",function(){return Me}),r.d(n,"parseFileSync",function(){return Ce}),r.d(n,"loadFile",function(){return Le}),r.d(n,"path",function(){return t}),r.d(n,"setPathPrefix",function(){return te}),r.d(n,"getPathPrefix",function(){return oe}),r.d(n,"resolvePath",function(){return se}),r.d(n,"fetchFile",function(){return ie}),r.d(n,"readFileSync",function(){return he}),r.d(n,"writeFile",function(){return we}),r.d(n,"writeFileSync",function(){return be}),r.d(n,"_getErrorMessageFromResponseSync",function(){return ge}),r.d(n,"_getErrorMessageFromResponse",function(){return me}),r.d(n,"registerLoaders",function(){return c}),r.d(n,"parse",function(){return X}),r.d(n,"parseSync",function(){return Y}),r.d(n,"parseInBatches",function(){return Z}),r.d(n,"parseInBatchesSync",function(){return ee}),r.d(n,"load",function(){return ce}),r.d(n,"loadInBatches",function(){return ue}),r.d(n,"encode",function(){return xe}),r.d(n,"encodeSync",function(){return Ae}),r.d(n,"encodeInBatches",function(){return ve}),r.d(n,"save",function(){return Se}),r.d(n,"saveSync",function(){return Te}),r.d(n,"isPromise",function(){return m}),r.d(n,"isIterable",function(){return x}),r.d(n,"isAsyncIterable",function(){return A}),r.d(n,"isIterator",function(){return v}),r.d(n,"isFetchResponse",function(){return S}),r.d(n,"isReadableStream",function(){return B}),r.d(n,"isWritableStream",function(){return k}),r.d(n,"toArrayBuffer",function(){return R}),r.d(n,"getStreamIterator",function(){return _}),r.d(n,"forEach",function(){return ke}),r.d(n,"concatenateAsyncIterator",function(){return je}),r.d(n,"lineAsyncIterator",function(){return Pe}),r.d(n,"textDecoderAsyncIterator",function(){return _e}),r.d(n,"numberedLineAsyncIterator",function(){return Fe}),r.d(n,"isBrowser",function(){return j.c}),r.d(n,"self",function(){return j.e}),r.d(n,"window",function(){return j.f}),r.d(n,"global",function(){return j.b}),r.d(n,"document",function(){return j.a}),r.d(n,"assert",function(){return o}),r.d(n,"_selectLoader",function(){return l}),r.d(n,"_WorkerThread",function(){return N}),r.d(n,"_WorkerFarm",function(){return q}),r.d(n,"_WorkerPool",function(){return J}),r.d(n,"_fetchProgress",function(){return Oe}),r.d(n,"_unregisterLoaders",function(){return a});const De=j.b.TextEncoder,Ee=j.b.TextDecoder;async function Ie(e,n){return console.warn("createReadStream() deprecated, use fetch().then(resp => resp.body)"),e=se(e),(await ie(e,n)).body}function Me(...e){return console.warn("parse() deprecated, use parse()"),X(...e)}function Ce(...e){return console.warn("parseSync() deprecated, use parseSync()"),Y(...e)}function Le(...e){return console.warn("loadFile() deprecated, use load()"),ce(...e)}}])});